!function(t){function e(e){$this=t(this);var r=$this.text().length;if(!($this.children().length||1>=r)){if(e.stopPropagation(),i){var c=t(i.elm).parent();if(c[0]==this)return;a()}var h={};t.each(this.attributes,function(t,e){h[e.nodeName]=e.nodeValue}),i={attrs:h,tag:this.tagName.toLowerCase()};var l=n(this,"textarea",h);i.elm=l[0]}}function a(){var t=n(i.elm,i.tag,i.attrs);t.click(e),i=null}function n(e,a,n){$elm=t(e);var i=t("<"+a+" />",n);return i.attr("spellcheck","true"),i.append($elm.contents()),$elm.replaceWith(i),i.elastic(),i.focus(),i}var i,r=t("p, div, span, h1, h2, h3, h4, h5, h6");r.click(e),t(document).click(function(t){i&&t.target!=i.elm&&a()})}(jQuery);